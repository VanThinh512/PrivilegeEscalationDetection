2025-05-12 14:33:03,692 - ERROR - improve_pipeline - Lỗi khi import module: No module named 'shap'
2025-05-12 14:33:03,693 - ERROR - improve_pipeline - Đảm bảo bạn đã cài đặt tất cả các module cần thiết
2025-05-12 14:33:42,153 - ERROR - improve_pipeline - Lỗi khi import module: No module named 'shap'
2025-05-12 14:33:42,154 - ERROR - improve_pipeline - Đảm bảo bạn đã cài đặt tất cả các module cần thiết
2025-05-12 14:35:40,207 - INFO - improve_pipeline - Đã import thành công các module cải tiến
2025-05-12 14:35:40,209 - INFO - improve_pipeline - Đã tạo thư mục: /home/joe/python_Proj/test/improved_results/raw_data
2025-05-12 14:35:40,210 - INFO - improve_pipeline - Đã tạo thư mục: /home/joe/python_Proj/test/improved_results/enhanced_data
2025-05-12 14:35:40,210 - INFO - improve_pipeline - Đã tạo thư mục: /home/joe/python_Proj/test/improved_results/models
2025-05-12 14:35:40,211 - INFO - improve_pipeline - Đã tạo thư mục: /home/joe/python_Proj/test/improved_results/reports
2025-05-12 14:35:40,211 - INFO - improve_pipeline - Đã tạo thư mục: /home/joe/python_Proj/test/improved_results/logs
2025-05-12 14:35:40,211 - INFO - improve_pipeline - === BẮT ĐẦU CẢI THIỆN DỮ LIỆU ===
2025-05-12 14:35:40,217 - INFO - improve_pipeline - Đã đọc dữ liệu gốc, kích thước: (135, 9)
2025-05-12 14:35:40,218 - INFO - data_enhancement - Bắt đầu tạo 1000 bản ghi đăng nhập giả lập
2025-05-12 14:35:40,262 - INFO - data_enhancement - Đã tạo 1000 bản ghi đăng nhập với 100 bất thường
2025-05-12 14:35:40,267 - INFO - data_enhancement - Đã lưu dữ liệu đăng nhập giả lập vào /home/joe/python_Proj/test/improved_results/enhanced_data/synthetic_logon.csv
2025-05-12 14:35:40,267 - INFO - improve_pipeline - Đã tạo 1000 bản ghi đăng nhập giả lập
2025-05-12 14:35:40,267 - INFO - data_enhancement - Bắt đầu tạo 500 bản ghi lệnh đặc quyền giả lập
2025-05-12 14:35:40,307 - INFO - data_enhancement - Đã lưu dữ liệu lệnh đặc quyền giả lập vào /home/joe/python_Proj/test/improved_results/enhanced_data/synthetic_privilege.csv
2025-05-12 14:35:40,307 - INFO - improve_pipeline - Đã tạo 500 bản ghi lệnh đặc quyền giả lập
2025-05-12 14:35:40,308 - INFO - improve_pipeline - Tỷ lệ nhãn dương: 42.22%
2025-05-12 14:35:40,309 - INFO - improve_pipeline - Đã lưu dữ liệu đã cải thiện vào: /home/joe/python_Proj/test/improved_results/enhanced_data/enhanced_data.csv
2025-05-12 14:35:40,310 - INFO - improve_pipeline - === HOÀN THÀNH CẢI THIỆN DỮ LIỆU ===
2025-05-12 14:35:40,310 - INFO - improve_pipeline - === BẮT ĐẦU BỔ SUNG ĐẶC TRƯNG ===
2025-05-12 14:35:40,310 - INFO - feature_engineering - Bắt đầu trích xuất đặc trưng mới
2025-05-12 14:35:40,323 - INFO - feature_engineering - Đã thêm các đặc trưng liên quan đến thời gian
2025-05-12 14:35:40,328 - INFO - feature_engineering - Đã thêm các đặc trưng liên quan đến tần suất người dùng
2025-05-12 14:35:40,340 - INFO - feature_engineering - Đã thêm các đặc trưng liên quan đến thời gian giữa các hoạt động
2025-05-12 14:35:40,343 - INFO - feature_engineering - Đã trích xuất tổng cộng 11 đặc trưng mới
2025-05-12 14:35:40,344 - INFO - improve_pipeline - Đã bổ sung các đặc trưng cơ bản, số cột mới: 11
2025-05-12 14:35:40,344 - INFO - feature_engineering - Bổ sung đặc trưng hành vi người dùng
2025-05-12 14:35:40,362 - INFO - feature_engineering - Đã thêm đặc trưng độ lệch hành vi theo giờ
2025-05-12 14:35:40,380 - INFO - feature_engineering - Đã thêm đặc trưng phát hiện burst commands
2025-05-12 14:35:40,381 - INFO - feature_engineering - Đã bổ sung tổng cộng 5 đặc trưng hành vi
2025-05-12 14:35:40,382 - INFO - improve_pipeline - Đã bổ sung các đặc trưng hành vi, số cột mới: 5
2025-05-12 14:35:40,382 - INFO - feature_engineering - Thêm các đặc trưng kết hợp (interaction features)
2025-05-12 14:35:40,389 - INFO - feature_engineering - Đã thêm 6 đặc trưng kết hợp
2025-05-12 14:35:40,389 - INFO - improve_pipeline - Đã bổ sung các đặc trưng kết hợp, số cột mới: 6
2025-05-12 14:35:40,393 - INFO - improve_pipeline - Đã lưu dữ liệu với đặc trưng mới vào: /home/joe/python_Proj/test/improved_results/enhanced_data/features_enriched_data.csv
2025-05-12 14:35:40,393 - INFO - improve_pipeline - Tổng số đặc trưng mới: 22
2025-05-12 14:35:40,393 - INFO - improve_pipeline - Danh sách đặc trưng mới: hour_0_deviation, time_of_day, time_since_last_activity, total_anomaly_signals, weekend_suspicious_cmd, time_of_day_night, user_activity_frequency, user_freq_percentile, time_of_day_afternoon, suspicious_cmd_and_args, is_in_burst, burst_size, rare_user_suspicious_cmd, is_business_hours, multiple_anomaly_signals, is_large_burst, time_of_day_evening, time_to_next_cmd, is_time_anomaly, after_hours_suspicious_cmd, day_of_week, time_of_day_morning
2025-05-12 14:35:40,393 - INFO - improve_pipeline - === HOÀN THÀNH BỔ SUNG ĐẶC TRƯNG ===
2025-05-12 14:35:40,394 - INFO - improve_pipeline - === BẮT ĐẦU ĐÁNH GIÁ MÔ HÌNH ===
2025-05-12 14:35:40,420 - ERROR - model_evaluation - Lỗi khi tạo báo cáo: "['user_dummy_user', 'user_eva', 'user_frank', 'user_grace', 'user_hannah', 'user_ian', 'user_jack', 'user_joe', 'user_root', 'user_root2', 'user_user01', 'user_user03', 'user_user04', 'user_user05', 'user_user06', 'user_user07', 'user_user09', 'user_user1', 'user_user10', 'user_user11', 'user_user12', 'user_user14', 'user_user15', 'user_user16', 'user_user18', 'user_user19', 'user_user20', 'user_user21', 'user_user23', 'user_user24', 'user_user25', 'user_user26', 'user_user27', 'user_user29', 'user_user30'] not in index"
2025-05-12 14:35:40,420 - ERROR - improve_pipeline - Không thể tạo báo cáo đánh giá toàn diện
2025-05-12 14:35:40,441 - INFO - model_monitor - Đã tải mô hình từ /home/joe/python_Proj/test/privilege_detection_model_latest.pkl
2025-05-12 14:35:40,441 - INFO - model_monitor - Đã khởi tạo hệ thống giám sát mô hình
2025-05-12 14:35:40,445 - INFO - model_monitor - Kiểm tra model drift trên dữ liệu mới
2025-05-12 14:35:40,446 - WARNING - model_monitor - Thiếu các cột: ['user_dummy_user', 'user_eva', 'user_frank', 'user_grace', 'user_hannah', 'user_ian', 'user_jack', 'user_joe', 'user_root', 'user_root2', 'user_user01', 'user_user03', 'user_user04', 'user_user05', 'user_user06', 'user_user07', 'user_user09', 'user_user1', 'user_user10', 'user_user11', 'user_user12', 'user_user14', 'user_user15', 'user_user16', 'user_user18', 'user_user19', 'user_user20', 'user_user21', 'user_user23', 'user_user24', 'user_user25', 'user_user26', 'user_user27', 'user_user29', 'user_user30']
2025-05-12 14:35:40,577 - INFO - model_monitor - Không phát hiện model drift
2025-05-12 14:35:40,578 - INFO - model_monitor - Đã lưu lịch sử chỉ số vào /home/joe/python_Proj/test/model_metrics_log.json
2025-05-12 14:35:40,578 - INFO - improve_pipeline - Mô hình vẫn ổn định, không cần huấn luyện lại.
2025-05-12 14:35:41,229 - INFO - model_monitor - Đã lưu biểu đồ xu hướng vào /home/joe/python_Proj/test/improved_results/reports/model_report_20250512_143540/metrics_trend.png
2025-05-12 14:35:41,229 - INFO - improve_pipeline - === HOÀN THÀNH ĐÁNH GIÁ MÔ HÌNH ===
2025-05-12 14:35:41,229 - INFO - improve_pipeline - Báo cáo đánh giá đã được lưu tại: /home/joe/python_Proj/test/improved_results/reports/model_report_20250512_143540
2025-05-12 14:35:41,230 - INFO - improve_pipeline - Pipeline cải tiến đã hoàn thành!
2025-05-12 14:40:44,085 - INFO - improve_pipeline - Đã import thành công các module cải tiến
2025-05-12 14:40:44,087 - INFO - improve_pipeline - Đã tạo thư mục: /home/joe/python_Proj/test/improved_results/raw_data
2025-05-12 14:40:44,087 - INFO - improve_pipeline - Đã tạo thư mục: /home/joe/python_Proj/test/improved_results/enhanced_data
2025-05-12 14:40:44,087 - INFO - improve_pipeline - Đã tạo thư mục: /home/joe/python_Proj/test/improved_results/models
2025-05-12 14:40:44,088 - INFO - improve_pipeline - Đã tạo thư mục: /home/joe/python_Proj/test/improved_results/reports
2025-05-12 14:40:44,088 - INFO - improve_pipeline - Đã tạo thư mục: /home/joe/python_Proj/test/improved_results/logs
2025-05-12 14:40:44,088 - INFO - improve_pipeline - === BẮT ĐẦU CẢI THIỆN DỮ LIỆU ===
2025-05-12 14:40:44,091 - INFO - improve_pipeline - Đã đọc dữ liệu gốc, kích thước: (135, 9)
2025-05-12 14:40:44,092 - INFO - data_enhancement - Bắt đầu tạo 1000 bản ghi đăng nhập giả lập
2025-05-12 14:40:44,125 - INFO - data_enhancement - Đã tạo 1000 bản ghi đăng nhập với 100 bất thường
2025-05-12 14:40:44,130 - INFO - data_enhancement - Đã lưu dữ liệu đăng nhập giả lập vào /home/joe/python_Proj/test/improved_results/enhanced_data/synthetic_logon.csv
2025-05-12 14:40:44,130 - INFO - improve_pipeline - Đã tạo 1000 bản ghi đăng nhập giả lập
2025-05-12 14:40:44,130 - INFO - data_enhancement - Bắt đầu tạo 500 bản ghi lệnh đặc quyền giả lập
2025-05-12 14:40:44,165 - INFO - data_enhancement - Đã lưu dữ liệu lệnh đặc quyền giả lập vào /home/joe/python_Proj/test/improved_results/enhanced_data/synthetic_privilege.csv
2025-05-12 14:40:44,166 - INFO - improve_pipeline - Đã tạo 500 bản ghi lệnh đặc quyền giả lập
2025-05-12 14:40:44,166 - INFO - improve_pipeline - Tỷ lệ nhãn dương: 42.22%
2025-05-12 14:40:44,169 - INFO - improve_pipeline - Đã lưu dữ liệu đã cải thiện vào: /home/joe/python_Proj/test/improved_results/enhanced_data/enhanced_data.csv
2025-05-12 14:40:44,169 - INFO - improve_pipeline - === HOÀN THÀNH CẢI THIỆN DỮ LIỆU ===
2025-05-12 14:40:44,169 - INFO - improve_pipeline - === BẮT ĐẦU BỔ SUNG ĐẶC TRƯNG ===
2025-05-12 14:40:44,169 - INFO - feature_engineering - Bắt đầu trích xuất đặc trưng mới
2025-05-12 14:40:44,179 - INFO - feature_engineering - Đã thêm các đặc trưng liên quan đến thời gian
2025-05-12 14:40:44,182 - INFO - feature_engineering - Đã thêm các đặc trưng liên quan đến tần suất người dùng
2025-05-12 14:40:44,188 - INFO - feature_engineering - Đã thêm các đặc trưng liên quan đến thời gian giữa các hoạt động
2025-05-12 14:40:44,191 - INFO - feature_engineering - Đã trích xuất tổng cộng 11 đặc trưng mới
2025-05-12 14:40:44,192 - INFO - improve_pipeline - Đã bổ sung các đặc trưng cơ bản, số cột mới: 11
2025-05-12 14:40:44,192 - INFO - feature_engineering - Bổ sung đặc trưng hành vi người dùng
2025-05-12 14:40:44,200 - INFO - feature_engineering - Đã thêm đặc trưng độ lệch hành vi theo giờ
2025-05-12 14:40:44,214 - INFO - feature_engineering - Đã thêm đặc trưng phát hiện burst commands
2025-05-12 14:40:44,215 - INFO - feature_engineering - Đã bổ sung tổng cộng 5 đặc trưng hành vi
2025-05-12 14:40:44,215 - INFO - improve_pipeline - Đã bổ sung các đặc trưng hành vi, số cột mới: 5
2025-05-12 14:40:44,216 - INFO - feature_engineering - Thêm các đặc trưng kết hợp (interaction features)
2025-05-12 14:40:44,221 - INFO - feature_engineering - Đã thêm 6 đặc trưng kết hợp
2025-05-12 14:40:44,221 - INFO - improve_pipeline - Đã bổ sung các đặc trưng kết hợp, số cột mới: 6
2025-05-12 14:40:44,226 - INFO - improve_pipeline - Đã lưu dữ liệu với đặc trưng mới vào: /home/joe/python_Proj/test/improved_results/enhanced_data/features_enriched_data.csv
2025-05-12 14:40:44,227 - INFO - improve_pipeline - Tổng số đặc trưng mới: 22
2025-05-12 14:40:44,227 - INFO - improve_pipeline - Danh sách đặc trưng mới: time_to_next_cmd, multiple_anomaly_signals, time_of_day_evening, hour_0_deviation, burst_size, user_activity_frequency, rare_user_suspicious_cmd, is_in_burst, weekend_suspicious_cmd, is_business_hours, total_anomaly_signals, user_freq_percentile, is_time_anomaly, time_of_day_night, day_of_week, is_large_burst, suspicious_cmd_and_args, time_of_day, time_since_last_activity, time_of_day_morning, time_of_day_afternoon, after_hours_suspicious_cmd
2025-05-12 14:40:44,243 - INFO - improve_pipeline - === HOÀN THÀNH BỔ SUNG ĐẶC TRƯNG ===
2025-05-12 14:40:44,243 - INFO - improve_pipeline - === BẮT ĐẦU ĐÁNH GIÁ MÔ HÌNH ===
2025-05-12 14:40:44,247 - INFO - improve_pipeline - Đã đọc dữ liệu từ /home/joe/python_Proj/test/improved_results/enhanced_data/features_enriched_data.csv, kích thước: (135, 31)
2025-05-12 14:40:44,249 - INFO - improve_pipeline - Chuẩn bị dữ liệu cho mô hình
2025-05-12 14:40:44,252 - WARNING - improve_pipeline - Thiếu 35 cột trong dữ liệu mới. Đang thêm các cột thiếu với giá trị 0.
2025-05-12 14:40:44,264 - INFO - improve_pipeline - Đã chuẩn bị dữ liệu với 41 đặc trưng
2025-05-12 14:40:44,285 - INFO - model_evaluation - Tạo báo cáo đánh giá mô hình
2025-05-12 14:40:45,728 - INFO - model_evaluation - Đã hoàn thành đánh giá mô hình
2025-05-12 14:40:45,729 - INFO - model_evaluation - Bắt đầu giải thích dự đoán mô hình
2025-05-12 14:40:46,839 - ERROR - model_evaluation - Lỗi khi giải thích mô hình: In v0.20, force plot now requires the base value as the first parameter! Try shap.plots.force(explainer.expected_value, shap_values) or for multi-output models try shap.plots.force(explainer.expected_value[0], shap_values[..., 0]).
2025-05-12 14:40:46,840 - INFO - model_evaluation - Đã tạo báo cáo HTML tại /home/joe/python_Proj/test/improved_results/reports/model_report_20250512_144044/model_report.html
2025-05-12 14:40:46,840 - INFO - improve_pipeline - Đã tạo báo cáo đánh giá toàn diện tại: /home/joe/python_Proj/test/improved_results/reports/model_report_20250512_144044
2025-05-12 14:40:46,861 - INFO - model_monitor - Đã tải mô hình từ /home/joe/python_Proj/test/privilege_detection_model_latest.pkl
2025-05-12 14:40:46,861 - INFO - model_monitor - Đã khởi tạo hệ thống giám sát mô hình
2025-05-12 14:40:46,861 - INFO - model_monitor - Kiểm tra model drift trên dữ liệu mới
2025-05-12 14:40:46,960 - INFO - model_monitor - Không phát hiện model drift
2025-05-12 14:40:46,961 - INFO - model_monitor - Đã lưu lịch sử chỉ số vào /home/joe/python_Proj/test/model_metrics_log.json
2025-05-12 14:40:46,961 - INFO - improve_pipeline - Mô hình vẫn ổn định, không cần huấn luyện lại.
2025-05-12 14:40:47,312 - INFO - model_monitor - Đã lưu biểu đồ xu hướng vào /home/joe/python_Proj/test/improved_results/reports/model_report_20250512_144044/metrics_trend.png
2025-05-12 14:40:47,313 - INFO - improve_pipeline - === HOÀN THÀNH ĐÁNH GIÁ MÔ HÌNH ===
2025-05-12 14:40:47,314 - INFO - improve_pipeline - Báo cáo đánh giá đã được lưu tại: /home/joe/python_Proj/test/improved_results/reports/model_report_20250512_144044
2025-05-12 14:40:47,314 - INFO - improve_pipeline - Pipeline cải tiến đã hoàn thành!
